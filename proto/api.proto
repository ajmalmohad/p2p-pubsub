syntax = "proto3";
package api;

option go_package = "gen/api";

message ChatMessage {
    string sender_id = 1;
    string sender_nickname = 2;
    int64 timestamp = 3;
    string value = 4;
}

service Api {
    rpc SendMessage (SendMessageRequest) returns (SendMessageReply) {}
    rpc JoinRoom (JoinRoomRequest) returns (JoinRoomReply) {}
    rpc GetRoomParticipants(GetRoomParticipantsRequest) returns (GetRoomParticipantsResponse) {};
}

message SendMessageRequest {
    string room_name = 1;
    string value = 2;
}
  
message SendMessageReply {
    bool success = 1;
}

message JoinRoomRequest {
    string room_name = 1;
}
  
message JoinRoomReply {
    bool success = 1;
}

message RoomParticipant {
    string id = 1;
    string nickname = 2;
}

message GetRoomParticipantsRequest {
    string room_name = 1;
}

message GetRoomParticipantsResponse {
    repeated RoomParticipant participants = 1;
}